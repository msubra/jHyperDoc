<html><head><title>Util.java</title><link type=text/css rel=stylesheet href="monochrome.css " ><body><table cellpadding="0" cellspacing="0" style="font-size: 10pt; border-collapse: collapse" width = 100% ><tr><td width = 100% align="left" valign="top"><tr><td width = 100% class = sourceTitle><b>Source Code:			Util.java</b></td></tr><tr><td class = sourceCode width = 100% align="left" valign="top"><tr><td class = sourceCode align="left" valign="top" ><font class = "comment" >/*<br>&nbsp;*&nbsp;Created&nbsp;on&nbsp;Jul&nbsp;26,&nbsp;2004<br>&nbsp;*<br>&nbsp;*&nbsp;TODO&nbsp;To&nbsp;change&nbsp;the&nbsp;template&nbsp;for&nbsp;this&nbsp;generated&nbsp;file&nbsp;go&nbsp;to<br>&nbsp;*&nbsp;Window&nbsp;-&nbsp;Preferences&nbsp;-&nbsp;Java&nbsp;-&nbsp;Code&nbsp;Style&nbsp;-&nbsp;Code&nbsp;Templates<br>&nbsp;*/</font><br><font class = "keyword" >package</font>&nbsp;util<font class = "operator" >;</font><br><br><font class = "keyword" >import</font>&nbsp;gates<font class = "operator" >.</font>Gate<font class = "operator" >;</font><br><font class = "keyword" >import</font>&nbsp;gates<font class = "operator" >.</font>LED<font class = "operator" >;</font><br><font class = "keyword" >import</font>&nbsp;gui<font class = "operator" >.</font>DrawingPad<font class = "operator" >;</font><br><font class = "keyword" >import</font>&nbsp;gui<font class = "operator" >.</font>MDIWindow<font class = "operator" >;</font><br><br><font class = "keyword" >import</font>&nbsp;java<font class = "operator" >.</font>awt<font class = "operator" >.</font>Graphics<font class = "operator" >;</font><br><font class = "keyword" >import</font>&nbsp;java<font class = "operator" >.</font>awt<font class = "operator" >.</font>Graphics2D<font class = "operator" >;</font><br><font class = "keyword" >import</font>&nbsp;java<font class = "operator" >.</font>awt<font class = "operator" >.</font>GraphicsConfiguration<font class = "operator" >;</font><br><font class = "keyword" >import</font>&nbsp;java<font class = "operator" >.</font>awt<font class = "operator" >.</font>Image<font class = "operator" >;</font><br><font class = "keyword" >import</font>&nbsp;java<font class = "operator" >.</font>awt<font class = "operator" >.</font>Point<font class = "operator" >;</font><br><font class = "keyword" >import</font>&nbsp;java<font class = "operator" >.</font>awt<font class = "operator" >.</font>Rectangle<font class = "operator" >;</font><br><font class = "keyword" >import</font>&nbsp;java<font class = "operator" >.</font>awt<font class = "operator" >.</font>Shape<font class = "operator" >;</font><br><font class = "keyword" >import</font>&nbsp;java<font class = "operator" >.</font>awt<font class = "operator" >.</font>image<font class = "operator" >.</font>BufferedImage<font class = "operator" >;</font><br><font class = "keyword" >import</font>&nbsp;java<font class = "operator" >.</font>awt<font class = "operator" >.</font>image<font class = "operator" >.</font>RenderedImage<font class = "operator" >;</font><br><font class = "keyword" >import</font>&nbsp;java<font class = "operator" >.</font>io<font class = "operator" >.</font>File<font class = "operator" >;</font><br><font class = "keyword" >import</font>&nbsp;java<font class = "operator" >.</font>io<font class = "operator" >.</font>IOException<font class = "operator" >;</font><br><font class = "keyword" >import</font>&nbsp;java<font class = "operator" >.</font>util<font class = "operator" >.</font>ArrayList<font class = "operator" >;</font><br><font class = "keyword" >import</font>&nbsp;java<font class = "operator" >.</font>util<font class = "operator" >.</font>Iterator<font class = "operator" >;</font><br><br><font class = "keyword" >import</font>&nbsp;javax<font class = "operator" >.</font>imageio<font class = "operator" >.</font>ImageIO<font class = "operator" >;</font><br><font class = "keyword" >import</font>&nbsp;javax<font class = "operator" >.</font>swing<font class = "operator" >.</font>JOptionPane<font class = "operator" >;</font><br><br><font class = "keyword" >import</font>&nbsp;node<font class = "operator" >.</font>Node<font class = "operator" >;</font><br><font class = "keyword" >import</font>&nbsp;parser<font class = "operator" >.</font>EquationCircuit<font class = "operator" >;</font><br><font class = "keyword" >import</font>&nbsp;shape<font class = "operator" >.</font>DigitalShape<font class = "operator" >;</font><br><font class = "keyword" >import</font>&nbsp;circuit<font class = "operator" >.</font>DigitalCircuit<font class = "operator" >;</font><br><br><font class = "comment" >/**<br>&nbsp;*&nbsp;@author&nbsp;Administrator<br>&nbsp;*&nbsp;<br>&nbsp;*&nbsp;TODO&nbsp;To&nbsp;change&nbsp;the&nbsp;template&nbsp;for&nbsp;this&nbsp;generated&nbsp;type&nbsp;comment&nbsp;go&nbsp;to&nbsp;Window&nbsp;-<br>&nbsp;*&nbsp;Preferences&nbsp;-&nbsp;Java&nbsp;-&nbsp;Code&nbsp;Style&nbsp;-&nbsp;Code&nbsp;Templates<br>&nbsp;*/</font><br><font class = "keyword" >public</font>&nbsp;<font class = "keyword" >class</font>&nbsp;Util&nbsp;<font class = "bracket" >{</font><br><br>&nbsp;&nbsp;&nbsp;<font class = "comment" >/**<br>&nbsp;&nbsp;&nbsp;&nbsp;*&nbsp;<br>&nbsp;&nbsp;&nbsp;&nbsp;*&nbsp;@param&nbsp;g<br>&nbsp;&nbsp;&nbsp;&nbsp;*&nbsp;@param&nbsp;s<br>&nbsp;&nbsp;&nbsp;&nbsp;*&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;get&nbsp;the&nbsp;boundaryvalues&nbsp;for&nbsp;the&nbsp;shape<br>&nbsp;&nbsp;&nbsp;&nbsp;*/</font><br>&nbsp;&nbsp;&nbsp;<font class = "keyword" >public</font>&nbsp;<font class = "keyword" >static</font>&nbsp;<font class = "datatype" >void</font>&nbsp;paintTexture<font class = "bracket" >(</font>Graphics2D&nbsp;g<font class = "operator" >,</font>&nbsp;Shape&nbsp;s<font class = "operator" >,</font>&nbsp;DrawingPad&nbsp;pad<font class = "bracket" >)</font>&nbsp;<font class = "bracket" >{</font><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Rectangle&nbsp;r&nbsp;<font class = "operator" >=</font>&nbsp;s<font class = "operator" >.</font>getBounds<font class = "bracket" >(</font><font class = "bracket" >)</font><font class = "operator" >;</font><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<font class = "keyword" >if</font>&nbsp;<font class = "bracket" >(</font>r<font class = "operator" >.</font>height&nbsp;<font class = "operator" >&lt;=</font>&nbsp;<font class = "number" >0</font>&nbsp;<font class = "operator" >||</font>&nbsp;r<font class = "operator" >.</font>width&nbsp;<font class = "operator" >&lt;=</font>&nbsp;<font class = "number" >0</font><font class = "bracket" >)</font><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<font class = "keyword" >return</font><font class = "operator" >;</font><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<font class = "comment" >/**<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*&nbsp;when&nbsp;the&nbsp;height&nbsp;and&nbsp;width&nbsp;of&nbsp;the&nbsp;symbol&nbsp;is&nbsp;greater&nbsp;than&nbsp;0&nbsp;then<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*&nbsp;GraphicsConfiguration&nbsp;is&nbsp;set&nbsp;to&nbsp;DeviceConnfiguration<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*/</font><br><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;GraphicsConfiguration&nbsp;config&nbsp;<font class = "operator" >=</font>&nbsp;g<font class = "operator" >.</font>getDeviceConfiguration<font class = "bracket" >(</font><font class = "bracket" >)</font><font class = "operator" >;</font><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;BufferedImage&nbsp;strip&nbsp;<font class = "operator" >=</font>&nbsp;<font class = "bracket" >(</font>BufferedImage<font class = "bracket" >)</font>&nbsp;pad<font class = "operator" >.</font>getImage<font class = "bracket" >(</font><font class = "bracket" >)</font><font class = "operator" >;</font><br><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<font class = "comment" >/**<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*&nbsp;creates&nbsp;an&nbsp;object&nbsp;gstrip&nbsp;for&nbsp;drawing&nbsp;horizontal&nbsp;and&nbsp;vertical&nbsp;strip<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*/</font><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Graphics2D&nbsp;gStrip&nbsp;<font class = "operator" >=</font>&nbsp;strip<font class = "operator" >.</font>createGraphics<font class = "bracket" >(</font><font class = "bracket" >)</font><font class = "operator" >;</font><br><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;horStrip<font class = "bracket" >(</font>gStrip<font class = "operator" >,</font>&nbsp;strip<font class = "operator" >,</font>&nbsp;<font class = "number" >0</font><font class = "operator" >,</font>&nbsp;r<font class = "operator" >.</font>width<font class = "operator" >,</font>&nbsp;<font class = "number" >0</font><font class = "bracket" >)</font><font class = "operator" >;</font><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;gStrip<font class = "operator" >.</font>dispose<font class = "bracket" >(</font><font class = "bracket" >)</font><font class = "operator" >;</font><br><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Shape&nbsp;prevClip&nbsp;<font class = "operator" >=</font>&nbsp;g<font class = "operator" >.</font>getClip<font class = "bracket" >(</font><font class = "bracket" >)</font><font class = "operator" >;</font><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<font class = "keyword" >if</font>&nbsp;<font class = "bracket" >(</font><font class = "operator" >!</font>r<font class = "operator" >.</font>equals<font class = "bracket" >(</font>s<font class = "bracket" >)</font><font class = "bracket" >)</font>&nbsp;<font class = "bracket" >{</font><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;g<font class = "operator" >.</font>clip<font class = "bracket" >(</font>s<font class = "bracket" >)</font><font class = "operator" >;</font><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<font class = "bracket" >}</font><br><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;vertStrip<font class = "bracket" >(</font>g<font class = "operator" >,</font>&nbsp;strip<font class = "operator" >,</font>&nbsp;r<font class = "operator" >.</font>y<font class = "operator" >,</font>&nbsp;r<font class = "operator" >.</font>height<font class = "operator" >,</font>&nbsp;r<font class = "operator" >.</font>x<font class = "bracket" >)</font><font class = "operator" >;</font><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;g<font class = "operator" >.</font>setClip<font class = "bracket" >(</font>prevClip<font class = "bracket" >)</font><font class = "operator" >;</font><br>&nbsp;&nbsp;&nbsp;<font class = "bracket" >}</font><br><br>&nbsp;&nbsp;&nbsp;<font class = "keyword" >private</font>&nbsp;<font class = "keyword" >static</font>&nbsp;<font class = "datatype" >void</font>&nbsp;horStrip<font class = "bracket" >(</font>Graphics2D&nbsp;g<font class = "operator" >,</font>&nbsp;BufferedImage&nbsp;src<font class = "operator" >,</font>&nbsp;<font class = "datatype" >int</font>&nbsp;x1<font class = "operator" >,</font><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<font class = "datatype" >int</font>&nbsp;x2<font class = "operator" >,</font>&nbsp;<font class = "datatype" >int</font>&nbsp;y<font class = "bracket" >)</font>&nbsp;<font class = "bracket" >{</font><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<font class = "datatype" >int</font>&nbsp;sw&nbsp;<font class = "operator" >=</font>&nbsp;src<font class = "operator" >.</font>getWidth<font class = "bracket" >(</font><font class = "bracket" >)</font><font class = "operator" >;</font><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<font class = "keyword" >while</font>&nbsp;<font class = "bracket" >(</font>x1&nbsp;<font class = "operator" >&lt;</font>&nbsp;x2&nbsp;<font class = "operator" >-</font>&nbsp;sw<font class = "bracket" >)</font>&nbsp;<font class = "bracket" >{</font><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;g<font class = "operator" >.</font>drawImage<font class = "bracket" >(</font>src<font class = "operator" >,</font>&nbsp;x1<font class = "operator" >,</font>&nbsp;y<font class = "operator" >,</font>&nbsp;<font class = "keyword" >null</font><font class = "bracket" >)</font><font class = "operator" >;</font><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;x1&nbsp;<font class = "operator" >+=</font>&nbsp;sw<font class = "operator" >;</font><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<font class = "bracket" >}</font><br><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<font class = "datatype" >int</font>&nbsp;sh&nbsp;<font class = "operator" >=</font>&nbsp;src<font class = "operator" >.</font>getHeight<font class = "bracket" >(</font><font class = "bracket" >)</font><font class = "operator" >;</font><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<font class = "keyword" >if</font>&nbsp;<font class = "bracket" >(</font>x2&nbsp;<font class = "operator" >-</font>&nbsp;x1&nbsp;<font class = "operator" >&gt;</font>&nbsp;<font class = "number" >0</font><font class = "bracket" >)</font><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;g<font class = "operator" >.</font>drawImage<font class = "bracket" >(</font>src<font class = "operator" >,</font>&nbsp;x1<font class = "operator" >,</font>&nbsp;y<font class = "operator" >,</font>&nbsp;x2<font class = "operator" >,</font>&nbsp;y&nbsp;<font class = "operator" >+</font>&nbsp;sh<font class = "operator" >,</font>&nbsp;<font class = "number" >0</font><font class = "operator" >,</font>&nbsp;<font class = "number" >0</font><font class = "operator" >,</font>&nbsp;x2&nbsp;<font class = "operator" >-</font>&nbsp;x1<font class = "operator" >,</font>&nbsp;sh<font class = "operator" >,</font>&nbsp;<font class = "keyword" >null</font><font class = "bracket" >)</font><font class = "operator" >;</font><br>&nbsp;&nbsp;&nbsp;<font class = "bracket" >}</font><br><br>&nbsp;&nbsp;&nbsp;<font class = "comment" >/**<br>&nbsp;&nbsp;&nbsp;&nbsp;*&nbsp;<br>&nbsp;&nbsp;&nbsp;&nbsp;*&nbsp;@param&nbsp;g<br>&nbsp;&nbsp;&nbsp;&nbsp;*&nbsp;@param&nbsp;src<br>&nbsp;&nbsp;&nbsp;&nbsp;*&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Refers&nbsp;to&nbsp;the&nbsp;BufferedImage<br>&nbsp;&nbsp;&nbsp;&nbsp;*&nbsp;@param&nbsp;y1<br>&nbsp;&nbsp;&nbsp;&nbsp;*&nbsp;@param&nbsp;y2<br>&nbsp;&nbsp;&nbsp;&nbsp;*&nbsp;@param&nbsp;x<br>&nbsp;&nbsp;&nbsp;&nbsp;*/</font><br>&nbsp;&nbsp;&nbsp;<font class = "keyword" >private</font>&nbsp;<font class = "keyword" >static</font>&nbsp;<font class = "datatype" >void</font>&nbsp;vertStrip<font class = "bracket" >(</font>Graphics2D&nbsp;g<font class = "operator" >,</font>&nbsp;BufferedImage&nbsp;src<font class = "operator" >,</font>&nbsp;<font class = "datatype" >int</font>&nbsp;y1<font class = "operator" >,</font><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<font class = "datatype" >int</font>&nbsp;y2<font class = "operator" >,</font>&nbsp;<font class = "datatype" >int</font>&nbsp;x<font class = "bracket" >)</font>&nbsp;<font class = "bracket" >{</font><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<font class = "comment" >//get&nbsp;the&nbsp;height&nbsp;for&nbsp;the&nbsp;source<br></font>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<font class = "datatype" >int</font>&nbsp;sh&nbsp;<font class = "operator" >=</font>&nbsp;src<font class = "operator" >.</font>getHeight<font class = "bracket" >(</font><font class = "bracket" >)</font><font class = "operator" >;</font><br><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<font class = "keyword" >while</font>&nbsp;<font class = "bracket" >(</font>y1&nbsp;<font class = "operator" >&lt;</font>&nbsp;y2&nbsp;<font class = "operator" >-</font>&nbsp;sh<font class = "bracket" >)</font>&nbsp;<font class = "bracket" >{</font><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;g<font class = "operator" >.</font>drawImage<font class = "bracket" >(</font>src<font class = "operator" >,</font>&nbsp;x<font class = "operator" >,</font>&nbsp;y1<font class = "operator" >,</font>&nbsp;<font class = "keyword" >null</font><font class = "bracket" >)</font><font class = "operator" >;</font><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;y1&nbsp;<font class = "operator" >+=</font>&nbsp;sh<font class = "operator" >;</font><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<font class = "bracket" >}</font><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<font class = "comment" >/**<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*&nbsp;get&nbsp;the&nbsp;width&nbsp;for&nbsp;the&nbsp;source<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*/</font><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<font class = "datatype" >int</font>&nbsp;sw&nbsp;<font class = "operator" >=</font>&nbsp;src<font class = "operator" >.</font>getWidth<font class = "bracket" >(</font><font class = "bracket" >)</font><font class = "operator" >;</font><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<font class = "keyword" >if</font>&nbsp;<font class = "bracket" >(</font>y2&nbsp;<font class = "operator" >-</font>&nbsp;y1&nbsp;<font class = "operator" >&gt;</font>&nbsp;<font class = "number" >0</font><font class = "bracket" >)</font><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;g<font class = "operator" >.</font>drawImage<font class = "bracket" >(</font>src<font class = "operator" >,</font>&nbsp;x<font class = "operator" >,</font>&nbsp;y1<font class = "operator" >,</font>&nbsp;x&nbsp;<font class = "operator" >+</font>&nbsp;sw<font class = "operator" >,</font>&nbsp;y2<font class = "operator" >,</font>&nbsp;<font class = "number" >0</font><font class = "operator" >,</font>&nbsp;<font class = "number" >0</font><font class = "operator" >,</font>&nbsp;sw<font class = "operator" >,</font>&nbsp;y2&nbsp;<font class = "operator" >-</font>&nbsp;y1<font class = "operator" >,</font>&nbsp;<font class = "keyword" >null</font><font class = "bracket" >)</font><font class = "operator" >;</font><br>&nbsp;&nbsp;&nbsp;<font class = "bracket" >}</font><br><br>&nbsp;&nbsp;&nbsp;<font class = "keyword" >public</font>&nbsp;<font class = "keyword" >static</font>&nbsp;ArrayList&nbsp;getConnectedGates<font class = "bracket" >(</font>Gate&nbsp;g<font class = "bracket" >)</font>&nbsp;<font class = "bracket" >{</font><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;ArrayList&nbsp;v&nbsp;<font class = "operator" >=</font>&nbsp;<font class = "keyword" >new</font>&nbsp;ArrayList<font class = "bracket" >(</font><font class = "bracket" >)</font><font class = "operator" >;</font><br><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<font class = "keyword" >for</font>&nbsp;<font class = "bracket" >(</font><font class = "datatype" >int</font>&nbsp;i&nbsp;<font class = "operator" >=</font>&nbsp;<font class = "number" >0</font><font class = "operator" >;</font>&nbsp;i&nbsp;<font class = "operator" >&lt;</font>&nbsp;g<font class = "operator" >.</font>getOutputCount<font class = "bracket" >(</font><font class = "bracket" >)</font><font class = "operator" >;</font>&nbsp;i<font class = "operator" >++</font><font class = "bracket" >)</font>&nbsp;<font class = "bracket" >{</font><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;ArrayList&nbsp;cons&nbsp;<font class = "operator" >=</font>&nbsp;<font class = "keyword" >null</font><font class = "operator" >;</font><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Node&nbsp;n&nbsp;<font class = "operator" >=</font>&nbsp;<font class = "keyword" >null</font><font class = "operator" >;</font><br><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<font class = "keyword" >if</font>&nbsp;<font class = "bracket" >(</font>g&nbsp;<font class = "keyword" >instanceof</font>&nbsp;LED<font class = "bracket" >)</font>&nbsp;<font class = "bracket" >{</font><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;n&nbsp;<font class = "operator" >=</font>&nbsp;g<font class = "operator" >.</font>getInputNode<font class = "bracket" >(</font><font class = "number" >0</font><font class = "bracket" >)</font><font class = "operator" >;</font><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<font class = "keyword" >if</font>&nbsp;<font class = "bracket" >(</font>n<font class = "operator" >.</font>isConnected<font class = "bracket" >(</font><font class = "bracket" >)</font><font class = "bracket" >)</font>&nbsp;<font class = "bracket" >{</font><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;v<font class = "operator" >.</font>add<font class = "bracket" >(</font>n<font class = "operator" >.</font>getParent<font class = "bracket" >(</font><font class = "bracket" >)</font><font class = "bracket" >)</font><font class = "operator" >;</font><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<font class = "bracket" >}</font><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<font class = "bracket" >}</font>&nbsp;<font class = "keyword" >else</font>&nbsp;<font class = "bracket" >{</font><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;n&nbsp;<font class = "operator" >=</font>&nbsp;g<font class = "operator" >.</font>getOutputNode<font class = "bracket" >(</font>i<font class = "bracket" >)</font><font class = "operator" >;</font><font class = "comment" >//get&nbsp;outputnode&nbsp;of&nbsp;the&nbsp;gate<br></font>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;cons&nbsp;<font class = "operator" >=</font>&nbsp;n<font class = "operator" >.</font>getConnections<font class = "bracket" >(</font><font class = "bracket" >)</font><font class = "operator" >;</font>&nbsp;<font class = "comment" >//get&nbsp;connections&nbsp;from<br></font>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<font class = "comment" >//&nbsp;outputnode<br></font>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<font class = "keyword" >for</font>&nbsp;<font class = "bracket" >(</font>Iterator&nbsp;j&nbsp;<font class = "operator" >=</font>&nbsp;cons<font class = "operator" >.</font>iterator<font class = "bracket" >(</font><font class = "bracket" >)</font><font class = "operator" >;</font>&nbsp;j<font class = "operator" >.</font>hasNext<font class = "bracket" >(</font><font class = "bracket" >)</font><font class = "operator" >;</font><font class = "bracket" >)</font>&nbsp;<font class = "bracket" >{</font><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Node&nbsp;n1&nbsp;<font class = "operator" >=</font>&nbsp;<font class = "bracket" >(</font>Node<font class = "bracket" >)</font>&nbsp;j<font class = "operator" >.</font>next<font class = "bracket" >(</font><font class = "bracket" >)</font><font class = "operator" >;</font><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<font class = "keyword" >if</font>&nbsp;<font class = "bracket" >(</font><font class = "operator" >!</font>v<font class = "operator" >.</font>contains<font class = "bracket" >(</font>n1<font class = "operator" >.</font>getParent<font class = "bracket" >(</font><font class = "bracket" >)</font><font class = "bracket" >)</font><font class = "bracket" >)</font>&nbsp;<font class = "bracket" >{</font><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;v<font class = "operator" >.</font>add<font class = "bracket" >(</font>n1<font class = "operator" >.</font>getParent<font class = "bracket" >(</font><font class = "bracket" >)</font><font class = "bracket" >)</font><font class = "operator" >;</font><font class = "comment" >//add&nbsp;the&nbsp;inputnode&nbsp;node's&nbsp;parent<br></font>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<font class = "bracket" >}</font><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<font class = "bracket" >}</font><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<font class = "bracket" >}</font><br><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<font class = "bracket" >}</font><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<font class = "keyword" >return</font>&nbsp;v<font class = "operator" >;</font><br>&nbsp;&nbsp;&nbsp;<font class = "bracket" >}</font><br><br>&nbsp;&nbsp;&nbsp;<font class = "keyword" >static</font>&nbsp;Node&nbsp;getConnectedNode<font class = "bracket" >(</font>Gate&nbsp;src<font class = "operator" >,</font>&nbsp;Gate&nbsp;dest<font class = "bracket" >)</font>&nbsp;<font class = "bracket" >{</font><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<font class = "datatype" >int</font>&nbsp;out&nbsp;<font class = "operator" >=</font>&nbsp;src<font class = "operator" >.</font>getOutputCount<font class = "bracket" >(</font><font class = "bracket" >)</font><font class = "operator" >;</font><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<font class = "keyword" >for</font>&nbsp;<font class = "bracket" >(</font><font class = "datatype" >int</font>&nbsp;k&nbsp;<font class = "operator" >=</font>&nbsp;<font class = "number" >0</font><font class = "operator" >;</font>&nbsp;k&nbsp;<font class = "operator" >&lt;</font>&nbsp;out<font class = "operator" >;</font>&nbsp;k<font class = "operator" >++</font><font class = "bracket" >)</font>&nbsp;<font class = "bracket" >{</font><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Node&nbsp;n1&nbsp;<font class = "operator" >=</font>&nbsp;src<font class = "operator" >.</font>getOutputNode<font class = "bracket" >(</font>k<font class = "bracket" >)</font><font class = "operator" >;</font><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<font class = "datatype" >int</font>&nbsp;out1&nbsp;<font class = "operator" >=</font>&nbsp;dest<font class = "operator" >.</font>getInputCount<font class = "bracket" >(</font><font class = "bracket" >)</font><font class = "operator" >;</font><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<font class = "keyword" >for</font>&nbsp;<font class = "bracket" >(</font><font class = "datatype" >int</font>&nbsp;i&nbsp;<font class = "operator" >=</font>&nbsp;<font class = "number" >0</font><font class = "operator" >;</font>&nbsp;i&nbsp;<font class = "operator" >&lt;</font>&nbsp;out1<font class = "operator" >;</font>&nbsp;i<font class = "operator" >++</font><font class = "bracket" >)</font>&nbsp;<font class = "bracket" >{</font><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<font class = "keyword" >if</font>&nbsp;<font class = "bracket" >(</font>n1<font class = "operator" >.</font>connections<font class = "operator" >.</font>contains<font class = "bracket" >(</font>dest<font class = "operator" >.</font>getInputNode<font class = "bracket" >(</font>i<font class = "bracket" >)</font><font class = "bracket" >)</font><font class = "bracket" >)</font>&nbsp;<font class = "bracket" >{</font><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<font class = "keyword" >return</font>&nbsp;n1<font class = "operator" >;</font><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<font class = "bracket" >}</font><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<font class = "bracket" >}</font><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<font class = "bracket" >}</font><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<font class = "keyword" >return</font>&nbsp;<font class = "keyword" >null</font><font class = "operator" >;</font><br>&nbsp;&nbsp;&nbsp;<font class = "bracket" >}</font><br><br>&nbsp;&nbsp;&nbsp;<font class = "keyword" >public</font>&nbsp;<font class = "keyword" >static</font>&nbsp;<font class = "datatype" >void</font>&nbsp;convertEquationToCircuit<font class = "bracket" >(</font><font class = "bracket" >)</font>&nbsp;<font class = "bracket" >{</font><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;String&nbsp;eq&nbsp;<font class = "operator" >=</font>&nbsp;JOptionPane<font class = "operator" >.</font>showInputDialog<font class = "bracket" >(</font>MDIWindow<font class = "operator" >.</font>getDrawingPad<font class = "bracket" >(</font><font class = "bracket" >)</font><font class = "operator" >,</font><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<font class = "string" >&quot;Enter&nbsp;Equation&quot;</font><font class = "bracket" >)</font><font class = "operator" >;</font><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<font class = "keyword" >if</font>&nbsp;<font class = "bracket" >(</font>eq&nbsp;<font class = "operator" >==</font>&nbsp;<font class = "keyword" >null</font><font class = "bracket" >)</font><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<font class = "keyword" >return</font><font class = "operator" >;</font><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;EquationCircuit&nbsp;eq_cir&nbsp;<font class = "operator" >=</font>&nbsp;<font class = "keyword" >new</font>&nbsp;EquationCircuit<font class = "bracket" >(</font><font class = "bracket" >)</font><font class = "operator" >;</font><br><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;DigitalCircuit&nbsp;cir&nbsp;<font class = "operator" >=</font>&nbsp;eq_cir<font class = "operator" >.</font>convert<font class = "bracket" >(</font>eq<font class = "bracket" >)</font><font class = "operator" >;</font><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;MDIWindow<font class = "operator" >.</font>getDrawingPad<font class = "bracket" >(</font><font class = "bracket" >)</font><font class = "operator" >.</font>setCircuit<font class = "bracket" >(</font>cir<font class = "bracket" >)</font><font class = "operator" >;</font><br>&nbsp;&nbsp;&nbsp;<font class = "bracket" >}</font><br><br>&nbsp;&nbsp;&nbsp;<font class = "keyword" >public</font>&nbsp;<font class = "keyword" >static</font>&nbsp;DigitalShape&nbsp;getComp<font class = "bracket" >(</font>Point&nbsp;p<font class = "bracket" >)</font>&nbsp;<font class = "bracket" >{</font><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<font class = "keyword" >return</font>&nbsp;MDIWindow<font class = "operator" >.</font>getDrawingPad<font class = "bracket" >(</font><font class = "bracket" >)</font><font class = "operator" >.</font>getCircuit<font class = "bracket" >(</font><font class = "bracket" >)</font><font class = "operator" >.</font>find<font class = "bracket" >(</font>p<font class = "bracket" >)</font><font class = "operator" >;</font><br>&nbsp;&nbsp;&nbsp;<font class = "bracket" >}</font><br><br>&nbsp;&nbsp;&nbsp;<font class = "keyword" >public</font>&nbsp;<font class = "keyword" >static</font>&nbsp;<font class = "datatype" >void</font>&nbsp;convertToImage<font class = "bracket" >(</font><font class = "bracket" >)</font>&nbsp;<font class = "bracket" >{</font><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;DrawingPad&nbsp;pad&nbsp;<font class = "operator" >=</font>&nbsp;MDIWindow<font class = "operator" >.</font>getDrawingPad<font class = "bracket" >(</font><font class = "bracket" >)</font><font class = "operator" >;</font><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;String&nbsp;path&nbsp;<font class = "operator" >=</font>&nbsp;pad<font class = "operator" >.</font>getCircuit<font class = "bracket" >(</font><font class = "bracket" >)</font><font class = "operator" >.</font>getLabel<font class = "bracket" >(</font><font class = "bracket" >)</font><font class = "operator" >;</font><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<font class = "keyword" >if</font><font class = "bracket" >(</font>path&nbsp;<font class = "operator" >==</font>&nbsp;<font class = "keyword" >null</font>&nbsp;<font class = "operator" >||</font>&nbsp;path<font class = "operator" >.</font>equals<font class = "bracket" >(</font><font class = "string" >&quot;&quot;</font><font class = "bracket" >)</font><font class = "bracket" >)</font><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;path&nbsp;<font class = "operator" >=</font>&nbsp;<font class = "string" >&quot;circuit&quot;</font>&nbsp;<font class = "operator" >+</font>&nbsp;<font class = "bracket" >(</font><font class = "datatype" >int</font><font class = "bracket" >)</font><font class = "bracket" >(</font>Math<font class = "operator" >.</font>random<font class = "bracket" >(</font><font class = "bracket" >)</font>&nbsp;<font class = "operator" >*</font>&nbsp;<font class = "number" >1000</font><font class = "bracket" >)</font><font class = "operator" >;</font><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;path&nbsp;<font class = "operator" >+=</font>&nbsp;<font class = "string" >&quot;.png&quot;</font><font class = "operator" >;</font><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Image&nbsp;img&nbsp;<font class = "operator" >=</font>&nbsp;pad<font class = "operator" >.</font>createImage<font class = "bracket" >(</font>pad<font class = "operator" >.</font>getWidth<font class = "bracket" >(</font><font class = "bracket" >)</font><font class = "operator" >,</font>&nbsp;pad<font class = "operator" >.</font>getHeight<font class = "bracket" >(</font><font class = "bracket" >)</font><font class = "bracket" >)</font><font class = "operator" >;</font><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Graphics&nbsp;g&nbsp;<font class = "operator" >=</font>&nbsp;img<font class = "operator" >.</font>getGraphics<font class = "bracket" >(</font><font class = "bracket" >)</font><font class = "operator" >;</font><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;pad<font class = "operator" >.</font>paint<font class = "bracket" >(</font>g<font class = "bracket" >)</font><font class = "operator" >;</font><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<font class = "keyword" >try</font>&nbsp;<font class = "bracket" >{</font><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;ImageIO<font class = "operator" >.</font>write<font class = "bracket" >(</font>&nbsp;<font class = "bracket" >(</font>RenderedImage<font class = "bracket" >)</font>&nbsp;img<font class = "operator" >,</font>&nbsp;<font class = "string" >&quot;PNG&quot;</font>&nbsp;<font class = "operator" >,</font>&nbsp;<font class = "keyword" >new</font>&nbsp;File<font class = "bracket" >(</font>path<font class = "bracket" >)</font>&nbsp;<font class = "bracket" >)</font><font class = "operator" >;</font><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<font class = "bracket" >}</font>&nbsp;<font class = "keyword" >catch</font>&nbsp;<font class = "bracket" >(</font>IOException&nbsp;e<font class = "bracket" >)</font>&nbsp;<font class = "bracket" >{</font><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;e<font class = "operator" >.</font>printStackTrace<font class = "bracket" >(</font><font class = "bracket" >)</font><font class = "operator" >;</font><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<font class = "bracket" >}</font><br>&nbsp;&nbsp;&nbsp;<font class = "bracket" >}</font><br><font class = "bracket" >}</font></td></tr><tr><td class = docComment>Doc Created at( Date & Time ): Fri Mar 25 13:03:15 GMT+05:30 2005<br>Doc Created by jHyperDoc&nbsp;&nbsp;&nbsp;Copyright(c) http://microprogrammers.150m.com<br><A href="http://microprogrammers.150m.com">http://microprogrammers.150m.com</A></td></tr></td></tr></table></body></html>